# **メール抽出AI営業アシスタント 仕様定義書 (日本中小企業・個人特化版)**

## **1\. プロジェクト概要**

### **1.1 背景と目的**

日本国内の中小企業や個人事業主のメールボックスには、数十年分の膨大な「人脈資産」が眠っている。しかし、その膨大な履歴から「今、アプローチすべき人」を手動で特定するのは極めて困難である。
本プロジェクトの真の目的は、**「膨大なメールの山に埋もれた、取引再開に繋がりそうな連絡が途絶えた顧客や、取引に至らなかったが有効的に関係性ができている見込み顧客を発見し、そのやりとりを確認して連絡できるようにすること」**である。
そのために、抽出されたスレッドを独自のアルゴリズムで動的にスコアリングし、優先度の高いコンタクト候補を具体的なアプローチ案とともに提示するAIアシスタントを構築する。

### **1.2 ゴール**

* **「埋もれた資産」の発掘**: 関係性は良かったが疎遠になっている顧客を、スレッド単位ではなく「人物（連絡先）」単位で再発見する。
* **「今」連絡すべき候補の動的特定**: 放置されていた親密度の高い顧客や、現在のビジネス文脈（新サービス等）に合致する顧客を優先順位付けして表示する。  
* **多角的な自動スコアリング**: 親密度、推定取引額、接触頻度、タイミング等の指標をシステム側で数値化・統合する。  
* **アクションの具体化**: AIが「なぜこの人に」「どのような文脈で」連絡すべきかの根拠を明示し、メッセージの下書きを生成する。

## **2\. 段階的データ削減と特徴量抽出**

リソース消費を最適化するため、以下の多段階フィルタリングにより、ノイズから有益な対話へと絞り込みを行う。

### **2.1 高速フィルタリング (第1段階: ルールベース)**

* **除外対象**: メルマガ、自動通知、一斉送信ドメイン、送信専用アドレス。  
* **抽出対象**: ユーザー本人（受信者/送信者）が明示的に宛名に含まれ、かつメッセージIDに基づき複数回の往復（スレッド）が確認できる対人コミュニケーション。

### **2.2 特徴量の機械的抽出 (第2段階：軽量メタデータ処理)**

自然言語処理（LLM）を実行する前段階として、以下の数値をデータベースに蓄積・計算する。

* **経済的価値指標**: 本文および添付ファイル名から、通貨記号や「見積」「請求」等のキーワード近傍の数値を抽出し、累積・最大値を算出。  
* **コミュニケーション密度**: スレッド内の往復回数、平均レスポンス時間、直近の接触からの経過日数。  
* **親密度プロキシ**: 敬語の度合い、定型的な挨拶（「お世話になっております」等）の欠如、顔文字・記号の使用頻度の変化を統計的に算出。

## **3\. 営業優先順位（ホット度）のランキングアルゴリズム**

抽出された全対象に対し、以下の指標にユーザー定義の重み付けを適用して総合スコアを算出する。

| 指標 | 評価軸 | 実装定義 |
| :---- | :---- | :---- |
| **親密度 (Closeness)** | 雑談の有無、フランクさ | 定型文の少なさと往復密度の相関で算出。 |
| **信頼度 (Trust)** | 継続性、問題解決歴 | 関係継続期間およびポジティブなキーワードの頻出度。 |
| **経済的価値 (Value)** | 推定取引規模 | 過去の関連数値データ（金額）の合計・頻度。 |
| **タイミング (Recency/Cycle)** | 放置期間と周期 | 最後に連絡してからの経過時間が、過去の平均接触周期に達した際に加点。 |
| **現在適合性 (Context)** | ユーザー定義のキーワード | ユーザーが現在注力しているキーワードと、過去の相談内容の類似性。 |

## **4\. AIアシスタント機能（アウトプット定義）**

スコア上位のコンタクトに対し、以下の情報を生成する。

1. **選定根拠 (Reasoning)**:  
   * 過去の特定の案件や相談内容に基づき、現在のコンテキストとの関連性を明示。  
   * 親密度の変化（疎遠になったタイミング等）に基づく再接触の動機付け。  
2. **期待される反応の予測 (Prediction)**:  
   * 過去の返信率やトーンに基づき、再接触時の反応（ポジティブ/ニュートラル）を予測。  
3. **パーソナライズされた下書き (Contextual Draft)**:  
   * 過去の二人の距離感（敬語レベル、親密表現）を維持した、自然な日本語のメッセージ案。

## **5\. 技術戦略と処理の最適化**

### **5.1 ローカルLLMによる精密コンテキスト分析**

* **対象範囲**: 第2段階で算出されたスコアが、システム設定またはユーザーが指定した閾値を超える上位群に対してのみ適用。  
* **処理内容**: スレッド全体の文脈理解、詳細なニーズの要約、相手の意思決定特性の抽出。

### **5.2 クラウドAPI (Gemini等) による最終アウトプット生成**

* **対象範囲**: ユーザーが実際にアクション（下書き生成等）を要求した特定のコンタクトに限定。  
* **処理内容**: 高度な推論を用いた、極めてパーソナライズされた営業メッセージの構成および最新情報との照合。

## **6\. UI/UX 構成要件**

* **初期一覧画面 (Contact List View)**:
    * **表示単位**: メールアドレス（またはペルソナ）ごとのブロックをリスト表示。
    * **ブロック内情報**:
        * **最高スレッドスコア**: その人物とのやり取りの中で最も高いスコア。
        * **最終接触日**: 全履歴における最後のやりとり日時。
        * **初回接触日**: 全履歴における最初のやりとり日時。
        * **スレッド総数**: やり取りしたスレッドの数。
        * **代表スレッド**: スコア上位のスレッドタイトルを表示。
    * **インタラクション**:
        * クリックでブロックがアコーディオン展開し、スレッド一覧が時系列（新しい順）で表示される。
        * スレッドをクリックすると詳細画面へ遷移。
* **将来構想**: 対象者との全やり取りを俯瞰したAIアドバイザリー機能の実装。
* **詳細画面**: 既存のスレッド詳細ビュー（AI要約付き）を維持。

## **7\. 実装ロードマップ**

1. **Phase 1**: Mbox/Gmail APIからのデータ取得と、スレッド構造に基づく対人メールの高速抽出、統計データのDB化。  
2. **Phase 2**: 統計指標に基づくランキング機能の実装。ローカルLLMを用いた文脈分析と要約の付与。  
3. **Phase 3**: ユーザー定義キーワードとのマッチングおよび、AIによるアプローチ案生成を含む統合UIの構築。